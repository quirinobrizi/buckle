/*******************************************************************************
 * Copyright [2017] [Quirino Brizi (quirino.brizi@gmail.com)]
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy of
 * the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 ******************************************************************************/'use strict';var cov_12362m043i=function(){var path='/home/quirino/Projects/buckle/src/domain/model/Container.js',hash='06f883f2e91a7daba6183c9ee4848f70ee705c5d',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/home/quirino/Projects/buckle/src/domain/model/Container.js',statementMap:{'0':{start:{line:19,column:22},end:{line:19,column:74}},'1':{start:{line:20,column:15},end:{line:20,column:53}},'2':{start:{line:22,column:22},end:{line:22,column:27}},'3':{start:{line:23,column:22},end:{line:23,column:27}},'4':{start:{line:24,column:19},end:{line:24,column:28}},'5':{start:{line:25,column:31},end:{line:25,column:40}},'6':{start:{line:26,column:29},end:{line:26,column:31}},'7':{start:{line:27,column:41},end:{line:27,column:43}},'8':{start:{line:29,column:0},end:{line:383,column:1}},'9':{start:{line:32,column:8},end:{line:32,column:21}},'10':{start:{line:33,column:8},end:{line:33,column:25}},'11':{start:{line:34,column:8},end:{line:34,column:27}},'12':{start:{line:35,column:8},end:{line:35,column:31}},'13':{start:{line:36,column:8},end:{line:36,column:27}},'14':{start:{line:37,column:8},end:{line:37,column:36}},'15':{start:{line:38,column:8},end:{line:38,column:27}},'16':{start:{line:39,column:8},end:{line:39,column:26}},'17':{start:{line:40,column:8},end:{line:40,column:25}},'18':{start:{line:41,column:8},end:{line:41,column:28}},'19':{start:{line:42,column:8},end:{line:42,column:29}},'20':{start:{line:43,column:8},end:{line:43,column:28}},'21':{start:{line:44,column:8},end:{line:44,column:50}},'22':{start:{line:45,column:8},end:{line:45,column:28}},'23':{start:{line:54,column:8},end:{line:54,column:39}},'24':{start:{line:58,column:8},end:{line:58,column:23}},'25':{start:{line:62,column:8},end:{line:62,column:25}},'26':{start:{line:66,column:8},end:{line:66,column:31}},'27':{start:{line:70,column:8},end:{line:70,column:37}},'28':{start:{line:74,column:25},end:{line:74,column:59}},'29':{start:{line:75,column:8},end:{line:77,column:9}},'30':{start:{line:76,column:12},end:{line:76,column:53}},'31':{start:{line:78,column:8},end:{line:78,column:55}},'32':{start:{line:82,column:25},end:{line:82,column:59}},'33':{start:{line:83,column:8},end:{line:85,column:9}},'34':{start:{line:84,column:12},end:{line:84,column:53}},'35':{start:{line:86,column:8},end:{line:86,column:42}},'36':{start:{line:97,column:8},end:{line:97,column:27}},'37':{start:{line:98,column:8},end:{line:98,column:20}},'38':{start:{line:109,column:8},end:{line:109,column:37}},'39':{start:{line:110,column:8},end:{line:110,column:20}},'40':{start:{line:114,column:8},end:{line:114,column:31}},'41':{start:{line:118,column:8},end:{line:118,column:43}},'42':{start:{line:122,column:17},end:{line:122,column:38}},'43':{start:{line:123,column:8},end:{line:123,column:89}},'44':{start:{line:134,column:8},end:{line:134,column:29}},'45':{start:{line:135,column:8},end:{line:135,column:20}},'46':{start:{line:146,column:8},end:{line:146,column:47}},'47':{start:{line:147,column:8},end:{line:147,column:20}},'48':{start:{line:159,column:8},end:{line:159,column:29}},'49':{start:{line:160,column:8},end:{line:160,column:20}},'50':{start:{line:164,column:8},end:{line:164,column:27}},'51':{start:{line:168,column:8},end:{line:168,column:27}},'52':{start:{line:169,column:8},end:{line:169,column:20}},'53':{start:{line:173,column:8},end:{line:173,column:26}},'54':{start:{line:185,column:8},end:{line:185,column:25}},'55':{start:{line:186,column:8},end:{line:186,column:20}},'56':{start:{line:198,column:8},end:{line:198,column:31}},'57':{start:{line:199,column:8},end:{line:199,column:20}},'58':{start:{line:203,column:8},end:{line:203,column:28}},'59':{start:{line:215,column:8},end:{line:215,column:67}},'60':{start:{line:219,column:8},end:{line:219,column:36}},'61':{start:{line:220,column:8},end:{line:222,column:9}},'62':{start:{line:221,column:12},end:{line:221,column:41}},'63':{start:{line:223,column:8},end:{line:223,column:20}},'64':{start:{line:227,column:8},end:{line:227,column:32}},'65':{start:{line:228,column:8},end:{line:228,column:20}},'66':{start:{line:232,column:8},end:{line:232,column:31}},'67':{start:{line:236,column:8},end:{line:236,column:59}},'68':{start:{line:240,column:20},end:{line:240,column:46}},'69':{start:{line:241,column:8},end:{line:241,column:46}},'70':{start:{line:245,column:20},end:{line:245,column:46}},'71':{start:{line:246,column:8},end:{line:246,column:43}},'72':{start:{line:250,column:20},end:{line:250,column:46}},'73':{start:{line:251,column:8},end:{line:251,column:58}},'74':{start:{line:255,column:24},end:{line:255,column:49}},'75':{start:{line:256,column:23},end:{line:256,column:47}},'76':{start:{line:257,column:8},end:{line:259,column:9}},'77':{start:{line:258,column:12},end:{line:258,column:21}},'78':{start:{line:260,column:8},end:{line:260,column:44}},'79':{start:{line:264,column:8},end:{line:264,column:35}},'80':{start:{line:265,column:8},end:{line:265,column:20}},'81':{start:{line:269,column:8},end:{line:269,column:30}},'82':{start:{line:273,column:8},end:{line:273,column:59}},'83':{start:{line:286,column:8},end:{line:288,column:9}},'84':{start:{line:287,column:12},end:{line:287,column:25}},'85':{start:{line:289,column:8},end:{line:297,column:11}},'86':{start:{line:290,column:25},end:{line:290,column:30}},'87':{start:{line:291,column:12},end:{line:295,column:13}},'88':{start:{line:292,column:16},end:{line:294,column:17}},'89':{start:{line:293,column:20},end:{line:293,column:34}},'90':{start:{line:296,column:12},end:{line:296,column:26}},'91':{start:{line:305,column:8},end:{line:305,column:60}},'92':{start:{line:306,column:8},end:{line:306,column:48}},'93':{start:{line:315,column:37},end:{line:315,column:86}},'94':{start:{line:316,column:8},end:{line:322,column:9}},'95':{start:{line:317,column:12},end:{line:317,column:150}},'96':{start:{line:318,column:12},end:{line:318,column:41}},'97':{start:{line:319,column:23},end:{line:319,column:97}},'98':{start:{line:320,column:12},end:{line:320,column:99}},'99':{start:{line:321,column:12},end:{line:321,column:24}},'100':{start:{line:323,column:8},end:{line:323,column:21}},'101':{start:{line:333,column:8},end:{line:333,column:100}},'102':{start:{line:334,column:21},end:{line:334,column:23}},'103':{start:{line:335,column:8},end:{line:335,column:43}},'104':{start:{line:336,column:8},end:{line:336,column:46}},'105':{start:{line:337,column:8},end:{line:337,column:22}},'106':{start:{line:341,column:8},end:{line:357,column:9}},'107':{start:{line:342,column:22},end:{line:342,column:42}},'108':{start:{line:343,column:12},end:{line:351,column:13}},'109':{start:{line:344,column:16},end:{line:346,column:19}},'110':{start:{line:345,column:20},end:{line:345,column:57}},'111':{start:{line:348,column:16},end:{line:350,column:19}},'112':{start:{line:349,column:20},end:{line:349,column:57}},'113':{start:{line:352,column:12},end:{line:352,column:62}},'114':{start:{line:353,column:12},end:{line:353,column:97}},'115':{start:{line:355,column:12},end:{line:355,column:57}},'116':{start:{line:356,column:12},end:{line:356,column:55}},'117':{start:{line:361,column:8},end:{line:380,column:9}},'118':{start:{line:362,column:25},end:{line:362,column:35}},'119':{start:{line:363,column:12},end:{line:371,column:13}},'120':{start:{line:364,column:16},end:{line:366,column:19}},'121':{start:{line:365,column:20},end:{line:365,column:53}},'122':{start:{line:368,column:16},end:{line:370,column:19}},'123':{start:{line:369,column:20},end:{line:369,column:53}},'124':{start:{line:372,column:12},end:{line:372,column:46}},'125':{start:{line:373,column:12},end:{line:373,column:146}},'126':{start:{line:374,column:12},end:{line:374,column:111}},'127':{start:{line:375,column:12},end:{line:375,column:40}},'128':{start:{line:376,column:12},end:{line:376,column:71}},'129':{start:{line:378,column:12},end:{line:378,column:73}},'130':{start:{line:379,column:12},end:{line:379,column:51}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:31,column:4},end:{line:31,column:5}},loc:{start:{line:31,column:33},end:{line:46,column:5}},line:31},'1':{name:'(anonymous_1)',decl:{start:{line:53,column:4},end:{line:53,column:5}},loc:{start:{line:53,column:29},end:{line:55,column:5}},line:53},'2':{name:'(anonymous_2)',decl:{start:{line:57,column:4},end:{line:57,column:5}},loc:{start:{line:57,column:18},end:{line:59,column:5}},line:57},'3':{name:'(anonymous_3)',decl:{start:{line:61,column:4},end:{line:61,column:5}},loc:{start:{line:61,column:20},end:{line:63,column:5}},line:61},'4':{name:'(anonymous_4)',decl:{start:{line:65,column:4},end:{line:65,column:5}},loc:{start:{line:65,column:20},end:{line:67,column:5}},line:65},'5':{name:'(anonymous_5)',decl:{start:{line:69,column:4},end:{line:69,column:5}},loc:{start:{line:69,column:30},end:{line:71,column:5}},line:69},'6':{name:'(anonymous_6)',decl:{start:{line:73,column:4},end:{line:73,column:5}},loc:{start:{line:73,column:21},end:{line:79,column:5}},line:73},'7':{name:'(anonymous_7)',decl:{start:{line:81,column:4},end:{line:81,column:5}},loc:{start:{line:81,column:23},end:{line:87,column:5}},line:81},'8':{name:'(anonymous_8)',decl:{start:{line:96,column:4},end:{line:96,column:5}},loc:{start:{line:96,column:20},end:{line:99,column:5}},line:96},'9':{name:'(anonymous_9)',decl:{start:{line:108,column:4},end:{line:108,column:5}},loc:{start:{line:108,column:30},end:{line:111,column:5}},line:108},'10':{name:'(anonymous_10)',decl:{start:{line:113,column:4},end:{line:113,column:5}},loc:{start:{line:113,column:20},end:{line:115,column:5}},line:113},'11':{name:'(anonymous_11)',decl:{start:{line:117,column:4},end:{line:117,column:5}},loc:{start:{line:117,column:21},end:{line:119,column:5}},line:117},'12':{name:'(anonymous_12)',decl:{start:{line:121,column:4},end:{line:121,column:5}},loc:{start:{line:121,column:19},end:{line:124,column:5}},line:121},'13':{name:'(anonymous_13)',decl:{start:{line:133,column:4},end:{line:133,column:5}},loc:{start:{line:133,column:22},end:{line:136,column:5}},line:133},'14':{name:'(anonymous_14)',decl:{start:{line:145,column:4},end:{line:145,column:5}},loc:{start:{line:145,column:40},end:{line:148,column:5}},line:145},'15':{name:'(anonymous_15)',decl:{start:{line:158,column:4},end:{line:158,column:5}},loc:{start:{line:158,column:22},end:{line:161,column:5}},line:158},'16':{name:'(anonymous_16)',decl:{start:{line:163,column:4},end:{line:163,column:5}},loc:{start:{line:163,column:16},end:{line:165,column:5}},line:163},'17':{name:'(anonymous_17)',decl:{start:{line:167,column:4},end:{line:167,column:5}},loc:{start:{line:167,column:20},end:{line:170,column:5}},line:167},'18':{name:'(anonymous_18)',decl:{start:{line:172,column:4},end:{line:172,column:5}},loc:{start:{line:172,column:15},end:{line:174,column:5}},line:172},'19':{name:'(anonymous_19)',decl:{start:{line:184,column:4},end:{line:184,column:5}},loc:{start:{line:184,column:18},end:{line:187,column:5}},line:184},'20':{name:'(anonymous_20)',decl:{start:{line:197,column:4},end:{line:197,column:5}},loc:{start:{line:197,column:33},end:{line:200,column:5}},line:197},'21':{name:'(anonymous_21)',decl:{start:{line:202,column:4},end:{line:202,column:5}},loc:{start:{line:202,column:26},end:{line:204,column:5}},line:202},'22':{name:'(anonymous_22)',decl:{start:{line:214,column:4},end:{line:214,column:5}},loc:{start:{line:214,column:40},end:{line:216,column:5}},line:214},'23':{name:'(anonymous_23)',decl:{start:{line:218,column:4},end:{line:218,column:5}},loc:{start:{line:218,column:25},end:{line:224,column:5}},line:218},'24':{name:'(anonymous_24)',decl:{start:{line:226,column:4},end:{line:226,column:5}},loc:{start:{line:226,column:25},end:{line:229,column:5}},line:226},'25':{name:'(anonymous_25)',decl:{start:{line:231,column:4},end:{line:231,column:5}},loc:{start:{line:231,column:20},end:{line:233,column:5}},line:231},'26':{name:'(anonymous_26)',decl:{start:{line:235,column:4},end:{line:235,column:5}},loc:{start:{line:235,column:26},end:{line:237,column:5}},line:235},'27':{name:'(anonymous_27)',decl:{start:{line:239,column:4},end:{line:239,column:5}},loc:{start:{line:239,column:32},end:{line:242,column:5}},line:239},'28':{name:'(anonymous_28)',decl:{start:{line:244,column:4},end:{line:244,column:5}},loc:{start:{line:244,column:29},end:{line:247,column:5}},line:244},'29':{name:'(anonymous_29)',decl:{start:{line:249,column:4},end:{line:249,column:5}},loc:{start:{line:249,column:24},end:{line:252,column:5}},line:249},'30':{name:'(anonymous_30)',decl:{start:{line:254,column:4},end:{line:254,column:5}},loc:{start:{line:254,column:18},end:{line:261,column:5}},line:254},'31':{name:'(anonymous_31)',decl:{start:{line:263,column:4},end:{line:263,column:5}},loc:{start:{line:263,column:28},end:{line:266,column:5}},line:263},'32':{name:'(anonymous_32)',decl:{start:{line:268,column:4},end:{line:268,column:5}},loc:{start:{line:268,column:19},end:{line:270,column:5}},line:268},'33':{name:'(anonymous_33)',decl:{start:{line:272,column:4},end:{line:272,column:5}},loc:{start:{line:272,column:19},end:{line:274,column:5}},line:272},'34':{name:'(anonymous_34)',decl:{start:{line:285,column:4},end:{line:285,column:5}},loc:{start:{line:285,column:30},end:{line:298,column:5}},line:285},'35':{name:'(anonymous_35)',decl:{start:{line:289,column:35},end:{line:289,column:36}},loc:{start:{line:289,column:48},end:{line:297,column:9}},line:289},'36':{name:'(anonymous_36)',decl:{start:{line:304,column:4},end:{line:304,column:5}},loc:{start:{line:304,column:55},end:{line:307,column:5}},line:304},'37':{name:'(anonymous_37)',decl:{start:{line:314,column:4},end:{line:314,column:5}},loc:{start:{line:314,column:38},end:{line:324,column:5}},line:314},'38':{name:'(anonymous_38)',decl:{start:{line:332,column:4},end:{line:332,column:5}},loc:{start:{line:332,column:31},end:{line:338,column:5}},line:332},'39':{name:'(anonymous_39)',decl:{start:{line:340,column:4},end:{line:340,column:5}},loc:{start:{line:340,column:34},end:{line:358,column:5}},line:340},'40':{name:'(anonymous_40)',decl:{start:{line:344,column:64},end:{line:344,column:65}},loc:{start:{line:344,column:73},end:{line:346,column:17}},line:344},'41':{name:'(anonymous_41)',decl:{start:{line:348,column:70},end:{line:348,column:71}},loc:{start:{line:348,column:79},end:{line:350,column:17}},line:348},'42':{name:'(anonymous_42)',decl:{start:{line:360,column:4},end:{line:360,column:5}},loc:{start:{line:360,column:37},end:{line:381,column:5}},line:360},'43':{name:'(anonymous_43)',decl:{start:{line:364,column:67},end:{line:364,column:68}},loc:{start:{line:364,column:76},end:{line:366,column:17}},line:364},'44':{name:'(anonymous_44)',decl:{start:{line:368,column:73},end:{line:368,column:74}},loc:{start:{line:368,column:82},end:{line:370,column:17}},line:368}},branchMap:{'0':{loc:{start:{line:75,column:8},end:{line:77,column:9}},type:'if',locations:[{start:{line:75,column:8},end:{line:77,column:9}},{start:{line:75,column:8},end:{line:77,column:9}}],line:75},'1':{loc:{start:{line:78,column:15},end:{line:78,column:54}},type:'cond-expr',locations:[{start:{line:78,column:28},end:{line:78,column:41}},{start:{line:78,column:44},end:{line:78,column:54}}],line:78},'2':{loc:{start:{line:83,column:8},end:{line:85,column:9}},type:'if',locations:[{start:{line:83,column:8},end:{line:85,column:9}},{start:{line:83,column:8},end:{line:85,column:9}}],line:83},'3':{loc:{start:{line:86,column:15},end:{line:86,column:41}},type:'binary-expr',locations:[{start:{line:86,column:15},end:{line:86,column:28}},{start:{line:86,column:32},end:{line:86,column:41}}],line:86},'4':{loc:{start:{line:123,column:45},end:{line:123,column:77}},type:'cond-expr',locations:[{start:{line:123,column:64},end:{line:123,column:72}},{start:{line:123,column:75},end:{line:123,column:77}}],line:123},'5':{loc:{start:{line:220,column:8},end:{line:222,column:9}},type:'if',locations:[{start:{line:220,column:8},end:{line:222,column:9}},{start:{line:220,column:8},end:{line:222,column:9}}],line:220},'6':{loc:{start:{line:241,column:15},end:{line:241,column:45}},type:'cond-expr',locations:[{start:{line:241,column:24},end:{line:241,column:25}},{start:{line:241,column:28},end:{line:241,column:45}}],line:241},'7':{loc:{start:{line:246,column:15},end:{line:246,column:42}},type:'cond-expr',locations:[{start:{line:246,column:24},end:{line:246,column:25}},{start:{line:246,column:28},end:{line:246,column:42}}],line:246},'8':{loc:{start:{line:251,column:15},end:{line:251,column:57}},type:'cond-expr',locations:[{start:{line:251,column:24},end:{line:251,column:25}},{start:{line:251,column:28},end:{line:251,column:57}}],line:251},'9':{loc:{start:{line:257,column:8},end:{line:259,column:9}},type:'if',locations:[{start:{line:257,column:8},end:{line:259,column:9}},{start:{line:257,column:8},end:{line:259,column:9}}],line:257},'10':{loc:{start:{line:257,column:12},end:{line:257,column:40}},type:'binary-expr',locations:[{start:{line:257,column:12},end:{line:257,column:22}},{start:{line:257,column:26},end:{line:257,column:40}}],line:257},'11':{loc:{start:{line:273,column:15},end:{line:273,column:58}},type:'binary-expr',locations:[{start:{line:273,column:15},end:{line:273,column:29}},{start:{line:273,column:33},end:{line:273,column:58}}],line:273},'12':{loc:{start:{line:286,column:8},end:{line:288,column:9}},type:'if',locations:[{start:{line:286,column:8},end:{line:288,column:9}},{start:{line:286,column:8},end:{line:288,column:9}}],line:286},'13':{loc:{start:{line:292,column:16},end:{line:294,column:17}},type:'if',locations:[{start:{line:292,column:16},end:{line:294,column:17}},{start:{line:292,column:16},end:{line:294,column:17}}],line:292},'14':{loc:{start:{line:316,column:8},end:{line:322,column:9}},type:'if',locations:[{start:{line:316,column:8},end:{line:322,column:9}},{start:{line:316,column:8},end:{line:322,column:9}}],line:316},'15':{loc:{start:{line:316,column:12},end:{line:316,column:65}},type:'binary-expr',locations:[{start:{line:316,column:12},end:{line:316,column:42}},{start:{line:316,column:46},end:{line:316,column:65}}],line:316},'16':{loc:{start:{line:341,column:8},end:{line:357,column:9}},type:'if',locations:[{start:{line:341,column:8},end:{line:357,column:9}},{start:{line:341,column:8},end:{line:357,column:9}}],line:341},'17':{loc:{start:{line:343,column:12},end:{line:351,column:13}},type:'if',locations:[{start:{line:343,column:12},end:{line:351,column:13}},{start:{line:343,column:12},end:{line:351,column:13}}],line:343},'18':{loc:{start:{line:361,column:8},end:{line:380,column:9}},type:'if',locations:[{start:{line:361,column:8},end:{line:380,column:9}},{start:{line:361,column:8},end:{line:380,column:9}}],line:361},'19':{loc:{start:{line:363,column:12},end:{line:371,column:13}},type:'if',locations:[{start:{line:363,column:12},end:{line:371,column:13}},{start:{line:363,column:12},end:{line:371,column:13}}],line:363}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0,'81':0,'82':0,'83':0,'84':0,'85':0,'86':0,'87':0,'88':0,'89':0,'90':0,'91':0,'92':0,'93':0,'94':0,'95':0,'96':0,'97':0,'98':0,'99':0,'100':0,'101':0,'102':0,'103':0,'104':0,'105':0,'106':0,'107':0,'108':0,'109':0,'110':0,'111':0,'112':0,'113':0,'114':0,'115':0,'116':0,'117':0,'118':0,'119':0,'120':0,'121':0,'122':0,'123':0,'124':0,'125':0,'126':0,'127':0,'128':0,'129':0,'130':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0],'12':[0,0],'13':[0,0],'14':[0,0],'15':[0,0],'16':[0,0],'17':[0,0],'18':[0,0],'19':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const metricsHelper=(cov_12362m043i.s[0]++,require('../../infrastructure/helper/MetricsHelper'));const logger=(cov_12362m043i.s[1]++,require('../../infrastructure/Logger'));const MIN_CPU_QUOTA=(cov_12362m043i.s[2]++,15000);const MAX_CPU_QUOTA=(cov_12362m043i.s[3]++,95000);const MIN_MEMORY=(cov_12362m043i.s[4]++,536870912);const MIN_MEMORY_RESERVATION=(cov_12362m043i.s[5]++,268435456);const MEMORY_INCREMENT_PCT=(cov_12362m043i.s[6]++,15);const MEMORY_RESERVATION_INCREMENT_PCT=(cov_12362m043i.s[7]++,10);cov_12362m043i.s[8]++;module.exports=class Container{constructor(id,name,image){cov_12362m043i.f[0]++;cov_12362m043i.s[9]++;this.id=id;cov_12362m043i.s[10]++;this.name=name;cov_12362m043i.s[11]++;this.image=image;cov_12362m043i.s[12]++;this.hostConfig=null;cov_12362m043i.s[13]++;this.config=null;cov_12362m043i.s[14]++;this.networkSettings=null;cov_12362m043i.s[15]++;this.status=null;cov_12362m043i.s[16]++;this.state=null;cov_12362m043i.s[17]++;this.node=null;cov_12362m043i.s[18]++;this.created=null;cov_12362m043i.s[19]++;this.statistics=[];cov_12362m043i.s[20]++;this.anomalies=[];cov_12362m043i.s[21]++;this.maxStatisticsCollectionTime=180000;cov_12362m043i.s[22]++;this.lastUpdate=0;}/**
     * Validate if this container is deployed on the requested node.
     * @param  {string}  node The node name
     * @return {Boolean}      true if this container is deployed on the requested node, false otherwise.
     */isDeployedOnNode(nodeId){cov_12362m043i.f[1]++;cov_12362m043i.s[23]++;return this.node.Name===node;}containerId(){cov_12362m043i.f[2]++;cov_12362m043i.s[24]++;return this.id;}containerName(){cov_12362m043i.f[3]++;cov_12362m043i.s[25]++;return this.name;}getLastUpdate(){cov_12362m043i.f[4]++;cov_12362m043i.s[26]++;return this.lastUpdate;}setLastUpdate(lastUpdate){cov_12362m043i.f[5]++;cov_12362m043i.s[27]++;this.lastUpdate=lastUpdate;}containerImage(){cov_12362m043i.f[6]++;var imageMatch=(cov_12362m043i.s[28]++,/([^:]*):?(.*)$/g.exec(this.image));cov_12362m043i.s[29]++;if(!imageMatch){cov_12362m043i.b[0][0]++;cov_12362m043i.s[30]++;imageMatch=/(.+)@.*/g.exec(this.image);}else{cov_12362m043i.b[0][1]++;}cov_12362m043i.s[31]++;return imageMatch?(cov_12362m043i.b[1][0]++,imageMatch[1]):(cov_12362m043i.b[1][1]++,this.image);}containerVersion(){cov_12362m043i.f[7]++;var imageMatch=(cov_12362m043i.s[32]++,/([^:]*):?(.*)$/g.exec(this.image));cov_12362m043i.s[33]++;if(!imageMatch){cov_12362m043i.b[2][0]++;cov_12362m043i.s[34]++;imageMatch=/(.+)@.*/g.exec(this.image);}else{cov_12362m043i.b[2][1]++;}cov_12362m043i.s[35]++;return(cov_12362m043i.b[3][0]++,imageMatch[2])||(cov_12362m043i.b[3][1]++,'unknown');}/**
     * Allow to set the container image in a fluent style
     *
     * @param {string}
     *            image the container image
     * @returns {Container} this container instance
     */setImage(image){cov_12362m043i.f[8]++;cov_12362m043i.s[36]++;this.image=image;cov_12362m043i.s[37]++;return this;}/**
     * Allow to provide host configuration in a fluent style.
     *
     * @param {object}
     *            the host configuration
     * @return {object} this container instance
     */setHostConfig(hostConfig){cov_12362m043i.f[9]++;cov_12362m043i.s[38]++;this.hostConfig=hostConfig;cov_12362m043i.s[39]++;return this;}getHostConfig(){cov_12362m043i.f[10]++;cov_12362m043i.s[40]++;return this.hostConfig;}getNetworkMode(){cov_12362m043i.f[11]++;cov_12362m043i.s[41]++;return this.hostConfig.NetworkMode;}getIpAddress(){cov_12362m043i.f[12]++;var nm=(cov_12362m043i.s[42]++,this.getNetworkMode());cov_12362m043i.s[43]++;return this.networkSettings.Networks[nm==='default'?(cov_12362m043i.b[4][0]++,'bridge'):(cov_12362m043i.b[4][1]++,nm)].IPAddress;}/**
     * Allow to provide container configuration in a fluent style.
     *
     * @param {object}
     *            the container configuration
     * @return {object} this container instance
     */setConfig(config){cov_12362m043i.f[13]++;cov_12362m043i.s[44]++;this.config=config;cov_12362m043i.s[45]++;return this;}/**
     * Allow to provide network configuration in a fluent style.
     *
     * @param {object}
     *            the container network configuration
     * @return {object} this container instance
     */setNetworkSettings(networkSettings){cov_12362m043i.f[14]++;cov_12362m043i.s[46]++;this.networkSettings=networkSettings;cov_12362m043i.s[47]++;return this;}/**
     * Allow to provide information about the container status in a fluent
     * style.
     *
     * @param {string}
     *            the container status
     * @return {object} this container instance
     */setStatus(status){cov_12362m043i.f[15]++;cov_12362m043i.s[48]++;this.status=status;cov_12362m043i.s[49]++;return this;}getStatus(){cov_12362m043i.f[16]++;cov_12362m043i.s[50]++;return this.status;}setState(state){cov_12362m043i.f[17]++;cov_12362m043i.s[51]++;this.state=state;cov_12362m043i.s[52]++;return this;}getState(){cov_12362m043i.f[18]++;cov_12362m043i.s[53]++;return this.state;}/**
     * Allow to provide information about the node this container is hosted on
     * in a fluent style.
     *
     * @param {object}
     *            the container node
     * @return {object} this container instance
     */setNode(node){cov_12362m043i.f[19]++;cov_12362m043i.s[54]++;this.node=node;cov_12362m043i.s[55]++;return this;}/**
     * Allow to provide information about this container creation date in a
     * fluent style.
     *
     * @param {number}
     *            the container creation time
     * @return {object} this container instance
     */setCreatedTimestamp(created){cov_12362m043i.f[20]++;cov_12362m043i.s[56]++;this.created=created;cov_12362m043i.s[57]++;return this;}getCreatedTimestamp(){cov_12362m043i.f[21]++;cov_12362m043i.s[58]++;return this.created;}/**
     * Validate if the container is running for at least the requested minutes
     *
     * @param {number}
     *            minutes
     * @returns true if the container is running for more than the requested
     *          minutes, false otherwise.
     */isRunningForAtLeastMinutes(minutes){cov_12362m043i.f[22]++;cov_12362m043i.s[59]++;return Date.now()-minutes*60*1000>this.created;}addStatistics(stats){cov_12362m043i.f[23]++;cov_12362m043i.s[60]++;this.statistics.push(stats);cov_12362m043i.s[61]++;if(this.statistics[0].getTimestamp()<Date.now()-this.maxStatisticsCollectionTime){cov_12362m043i.b[5][0]++;cov_12362m043i.s[62]++;this.statistics.splice(0,1);}else{cov_12362m043i.b[5][1]++;}cov_12362m043i.s[63]++;return this;}setStatistics(stats){cov_12362m043i.f[24]++;cov_12362m043i.s[64]++;this.statistics=stats;cov_12362m043i.s[65]++;return this;}getStatistics(){cov_12362m043i.f[25]++;cov_12362m043i.s[66]++;return this.statistics;}getLatestStatistics(){cov_12362m043i.f[26]++;cov_12362m043i.s[67]++;return this.statistics[this.statistics.length-1];}getLatestMemoryStatistics(){cov_12362m043i.f[27]++;var stats=(cov_12362m043i.s[68]++,this.getLatestStatistics());cov_12362m043i.s[69]++;return!stats?(cov_12362m043i.b[6][0]++,0):(cov_12362m043i.b[6][1]++,stats.getMemory());}getLatestCpuStatistics(){cov_12362m043i.f[28]++;var stats=(cov_12362m043i.s[70]++,this.getLatestStatistics());cov_12362m043i.s[71]++;return!stats?(cov_12362m043i.b[7][0]++,0):(cov_12362m043i.b[7][1]++,stats.getCpu());}getLatestCpuUsage(){cov_12362m043i.f[29]++;var stats=(cov_12362m043i.s[72]++,this.getLatestStatistics());cov_12362m043i.s[73]++;return!stats?(cov_12362m043i.b[8][0]++,0):(cov_12362m043i.b[8][1]++,stats.calculateCpuUsageUnix());}getCpuLimit(){cov_12362m043i.f[30]++;var cpuPeriod=(cov_12362m043i.s[74]++,this.hostConfig.CpuPeriod);var cpuQuota=(cov_12362m043i.s[75]++,this.hostConfig.CpuQuota);cov_12362m043i.s[76]++;if((cov_12362m043i.b[10][0]++,!cpuPeriod)||(cov_12362m043i.b[10][1]++,cpuPeriod==0)){cov_12362m043i.b[9][0]++;cov_12362m043i.s[77]++;return 0;}else{cov_12362m043i.b[9][1]++;}cov_12362m043i.s[78]++;return cpuQuota*100/cpuPeriod;}setAnomalies(anomalies){cov_12362m043i.f[31]++;cov_12362m043i.s[79]++;this.anomalies=anomalies;cov_12362m043i.s[80]++;return this;}getAnomalies(){cov_12362m043i.f[32]++;cov_12362m043i.s[81]++;return this.anomalies;}hasAnomalies(){cov_12362m043i.f[33]++;cov_12362m043i.s[82]++;return(cov_12362m043i.b[11][0]++,this.anomalies)&&(cov_12362m043i.b[11][1]++,this.anomalies.length>0);}/**
     * Evaluate if any of the requested anomalies types are active for this
     * container.
     *
     * @param {array}
     *            types the list of anomalies to check
     * @return {Boolean} true if any of the requested anomalies if present,
     *         false otherwise
     */hasAnomaliesOfType(types){cov_12362m043i.f[34]++;cov_12362m043i.s[83]++;if(!this.anomalies){cov_12362m043i.b[12][0]++;cov_12362m043i.s[84]++;return false;}else{cov_12362m043i.b[12][1]++;}cov_12362m043i.s[85]++;return this.anomalies.some(function(el){cov_12362m043i.f[35]++;var answer=(cov_12362m043i.s[86]++,false);cov_12362m043i.s[87]++;for(var i=0;i<types.length;i++){cov_12362m043i.s[88]++;if(el.type.includes(types[i])){cov_12362m043i.b[13][0]++;cov_12362m043i.s[89]++;answer=true;}else{cov_12362m043i.b[13][1]++;}}cov_12362m043i.s[90]++;return answer;});}/**
     * Inspect this container for anomalies
     * @param  {AnomalyService]} anomalyService the service to use for the anomalies inspection
     */async inspect(anomalyService,containerRepository){cov_12362m043i.f[36]++;cov_12362m043i.s[91]++;this.anomalies=await anomalyService.process(this);cov_12362m043i.s[92]++;return this.update(containerRepository);}/**
     * Update limits for this service if needed
     * @param  {ConfigurationService} configurationService the configuration service
     * @return {boolean} true if the container has been updated. false otherwise;
     */async update(containerRepository){cov_12362m043i.f[37]++;var secondsSinceLastUpdate=(cov_12362m043i.s[93]++,Math.trunc((Date.now()-this.lastUpdate)/1000));cov_12362m043i.s[94]++;if((cov_12362m043i.b[15][0]++,this.getStatus()==='running')&&(cov_12362m043i.b[15][1]++,this.hasAnomalies())){cov_12362m043i.b[14][0]++;cov_12362m043i.s[95]++;logger.info('updating container %s last update %s seconds ago [%s - %s]',this.name,secondsSinceLastUpdate,Date.now(),this.lastUpdate);cov_12362m043i.s[96]++;this.lastUpdate=Date.now();var resp=(cov_12362m043i.s[97]++,await containerRepository.update(this.id,this.buildLimitsConfiguration()));cov_12362m043i.s[98]++;logger.debug("container %s configuration updated %s",this.name,JSON.stringify(resp));cov_12362m043i.s[99]++;return true;}else{cov_12362m043i.b[14][1]++;}cov_12362m043i.s[100]++;return false;}/**
     * Builds limits configuration for this container based on the current
     * status and anomalies detected.
     *
     * @return {object} the limits configuration
     */buildLimitsConfiguration(){cov_12362m043i.f[38]++;cov_12362m043i.s[101]++;logger.info("Found %s anomalies %s",this.anomalies.length,JSON.stringify(this.anomalies));var config=(cov_12362m043i.s[102]++,{});cov_12362m043i.s[103]++;this._addCpuConfigIfNeeded(config);cov_12362m043i.s[104]++;this._addMemoryConfigIfNeeded(config);cov_12362m043i.s[105]++;return config;}_addCpuConfigIfNeeded(config){cov_12362m043i.f[39]++;cov_12362m043i.s[106]++;if(this.hasAnomaliesOfType(["cpu"])){cov_12362m043i.b[16][0]++;var cpu=(cov_12362m043i.s[107]++,MIN_CPU_QUOTA/1000);cov_12362m043i.s[108]++;if(this.hasAnomaliesOfType(["cpu-saturated","cpu-spike"])){cov_12362m043i.b[17][0]++;cov_12362m043i.s[109]++;cpu=metricsHelper.extractMax(this.statistics,value=>{cov_12362m043i.f[40]++;cov_12362m043i.s[110]++;return value.calculateCpuUsageUnix();});}else{cov_12362m043i.b[17][1]++;cov_12362m043i.s[111]++;cpu=metricsHelper.calculateAverage(this.statistics,value=>{cov_12362m043i.f[41]++;cov_12362m043i.s[112]++;return value.calculateCpuUsageUnix();});}cov_12362m043i.s[113]++;config.CpuPeriod=metricsHelper.ONE_SEC_IN_JIFFY;cov_12362m043i.s[114]++;config.CpuQuota=metricsHelper.calculateCpuQuota(cpu,MIN_CPU_QUOTA,MAX_CPU_QUOTA);cov_12362m043i.s[115]++;this.hostConfig.CpuPeriod=config.CpuPeriod;cov_12362m043i.s[116]++;this.hostConfig.CpuQuota=config.CpuQuota;}else{cov_12362m043i.b[16][1]++;}}_addMemoryConfigIfNeeded(config){cov_12362m043i.f[42]++;cov_12362m043i.s[117]++;if(this.hasAnomaliesOfType(["memory"])){cov_12362m043i.b[18][0]++;var memory=(cov_12362m043i.s[118]++,MIN_MEMORY);cov_12362m043i.s[119]++;if(this.hasAnomaliesOfType(["memory-saturated"])){cov_12362m043i.b[19][0]++;cov_12362m043i.s[120]++;memory=metricsHelper.extractMax(this.statistics,value=>{cov_12362m043i.f[43]++;cov_12362m043i.s[121]++;return value.getMemory().current;});}else{cov_12362m043i.b[19][1]++;cov_12362m043i.s[122]++;memory=metricsHelper.calculateAverage(this.statistics,value=>{cov_12362m043i.f[44]++;cov_12362m043i.s[123]++;return value.getMemory().current;});}cov_12362m043i.s[124]++;console.log("Memory: %s",memory);cov_12362m043i.s[125]++;config.MemoryReservation=metricsHelper.calculateMemoryReservation(memory,MEMORY_RESERVATION_INCREMENT_PCT,MIN_MEMORY_RESERVATION);cov_12362m043i.s[126]++;config.Memory=metricsHelper.calculateMemoryReservation(memory,MEMORY_INCREMENT_PCT,MIN_MEMORY);cov_12362m043i.s[127]++;config.MemorySwappiness=0;cov_12362m043i.s[128]++;config.MemorySwap=config.Memory+MIN_MEMORY_RESERVATION;cov_12362m043i.s[129]++;this.hostConfig.MemoryReservation=config.MemoryReservation;cov_12362m043i.s[130]++;this.hostConfig.Memory=config.Memory;}else{cov_12362m043i.b[18][1]++;}}};