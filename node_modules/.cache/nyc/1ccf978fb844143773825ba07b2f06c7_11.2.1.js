/*******************************************************************************
 * Copyright [2017] [Quirino Brizi (quirino.brizi@gmail.com)]
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy of
 * the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 ******************************************************************************/'use strict';var cov_2cwojnccf3=function(){var path='/home/quirino/Projects/buckle/src/domain/repository/EnvironmentRepository.js',hash='42cd6a2658f313d0cf85788870e1c0f623e5207b',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/home/quirino/Projects/buckle/src/domain/repository/EnvironmentRepository.js',statementMap:{'0':{start:{line:19,column:20},end:{line:19,column:51}},'1':{start:{line:21,column:0},end:{line:38,column:2}},'2':{start:{line:24,column:8},end:{line:24,column:53}},'3':{start:{line:25,column:8},end:{line:25,column:55}},'4':{start:{line:33,column:20},end:{line:33,column:60}},'5':{start:{line:34,column:25},end:{line:34,column:64}},'6':{start:{line:36,column:8},end:{line:36,column:76}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:23,column:4},end:{line:23,column:5}},loc:{start:{line:23,column:57},end:{line:26,column:5}},line:23},'1':{name:'(anonymous_1)',decl:{start:{line:32,column:4},end:{line:32,column:5}},loc:{start:{line:32,column:16},end:{line:37,column:5}},line:32}},branchMap:{},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0},f:{'0':0,'1':0},b:{},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const Environment=(cov_2cwojnccf3.s[0]++,require('../model/Environment'));cov_2cwojnccf3.s[1]++;module.exports=class EnvironmentRepository{constructor(dockerEngineClient,containerRepository){cov_2cwojnccf3.f[0]++;cov_2cwojnccf3.s[2]++;this.dockerEngineClient=dockerEngineClient;cov_2cwojnccf3.s[3]++;this.containerRepository=containerRepository;}/**
     * Retrieve all containers deployed on this environemnt
     * @return {[type]} [description]
     */async get(){cov_2cwojnccf3.f[1]++;let swarm=(cov_2cwojnccf3.s[4]++,await this.dockerEngineClient.getSwarm());let containers=(cov_2cwojnccf3.s[5]++,await this.containerRepository.getAll());cov_2cwojnccf3.s[6]++;return new Environment(swarm.Name,swarm.ServerVersion,containers);}};